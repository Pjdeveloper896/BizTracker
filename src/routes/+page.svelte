<script lang="ts">
	let lang = 'en';

	// Check if we're in the browser before using localStorage
	if (typeof window !== 'undefined') {
		const savedLang = localStorage.getItem('lang');
		if (savedLang) lang = savedLang;
	}

	const translations = {
		en: {
			tagline: "Track Your Biz. The Indian Way.",
			title: "Welcome to BizKhaata",
			subtitle: "Track your stock, manage inventory, and view shop insights тАФ all in one place.",
			why: "Why BizKhaata?",
			whyDesc: "Manage products, monitor stock performance, and grow your business тАФ smarter and faster.",
			start: "ЁЯЪА Start Managing Your Stock",
			startLink: "Start Tracking тЖТ"
		},
		hi: {
			tagline: "рдЕрдкрдиреЗ рдмрд┐реЫрдиреЗрд╕ рдХреЛ рдЯреНрд░реИрдХ рдХрд░реЗрдВ, рднрд╛рд░рддреАрдп рдЕрдВрджрд╛реЫ рдореЗрдВред",
			title: "рдмрд┐рдЬрд╝рдЦрд╛рддрд╛ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ",
			subtitle: "рдЕрдкрдиреЗ рд╕реНрдЯреЙрдХ рдХреЛ рдЯреНрд░реИрдХ рдХрд░реЗрдВ, рдЗрдиреНрд╡реЗрдВрдЯреНрд░реА рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ рдФрд░ рд╢реЙрдк рдХреА рдЬрд╛рдирдХрд╛рд░реА рдПрдХ рд╣реА рд╕реНрдерд╛рди рдкрд░ рджреЗрдЦреЗрдВред",
			why: "рдХреНрдпреЛрдВ рдЪреБрдиреЗрдВ рдмрд┐рдЬрд╝рдЦрд╛рддрд╛?",
			whyDesc: "рдЙрддреНрдкрд╛рдж рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░реЗрдВ, рд╕реНрдЯреЙрдХ рдкреНрд░рджрд░реНрд╢рди рджреЗрдЦреЗрдВ, рдФрд░ рд╕реНрдорд╛рд░реНрдЯ рддрд░реАрдХреЗ рд╕реЗ рдЕрдкрдирд╛ рд╡реНрдпрд╡рд╕рд╛рдп рдмрдврд╝рд╛рдПрдВред",
			start: "ЁЯЪА рд╕реНрдЯреЙрдХ рдкреНрд░рдмрдВрдзрди рд╢реБрд░реВ рдХрд░реЗрдВ",
			startLink: "рдЯреНрд░реИрдХрд┐рдВрдЧ рд╢реБрд░реВ рдХрд░реЗрдВ тЖТ"
		}
	};

	function switchLang() {
		lang = lang === 'en' ? 'hi' : 'en';
		if (typeof window !== 'undefined') {
			localStorage.setItem('lang', lang);
		}
	}
</script>

<style>
	body {
		margin: 0;
		font-family: system-ui, sans-serif;
		background-color: #0f172a;
		color: white;
	}

	main {
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		min-height: 100vh;
		padding: 2rem;
		text-align: center;
	}

	h1 {
		font-size: 3rem;
		margin-bottom: 1rem;
	}

	h2 {
		font-size: 1.5rem;
		margin-bottom: 1rem;
		color: #facc15;
	}

	p {
		max-width: 600px;
		font-size: 1.1rem;
		margin-bottom: 2rem;
	}

	button {
		background-color: #22c55e;
		color: black;
		padding: 0.75rem 1.5rem;
		font-size: 1rem;
		border: none;
		border-radius: 0.5rem;
		cursor: pointer;
		transition: background-color 0.3s;
		margin: 0.5rem;
	}

	button:hover {
		background-color: #16a34a;
	}

	.lang-toggle {
		position: absolute;
		top: 1rem;
		right: 1rem;
		background-color: #334155;
		color: white;
		padding: 0.4rem 0.8rem;
		font-size: 0.9rem;
		border: none;
		border-radius: 0.3rem;
		cursor: pointer;
	}
</style>

<main>
	<button class="lang-toggle" on:click={switchLang}>
		{lang === 'en' ? 'ЁЯЗоЁЯЗ│ рд╣рд┐рдиреНрджреА' : 'ЁЯЗмЁЯЗз English'}
	</button>

	<h2>{translations[lang].tagline}</h2>
	<h1>{translations[lang].title}</h1>
	<p>{translations[lang].subtitle}</p>

	<h2>{translations[lang].why}</h2>
	<p>{translations[lang].whyDesc}</p>

	<a href="https://biz-tracker-vert.vercel.app/">
		<button>{translations[lang].start}</button>
	</a>
</main>
